class todo{constructor(t,a,e="JSON",s=`TODO/todo_${t}.json`,o=Date.now(),i=!1){this.name=t,this.author=a,this.startdate=o,this.path=`TODO/todo_${t}.json`,i?this.fileData={Todos:[],author:this.author,name:this.name,startdate:this.startdate}:fs.readFile("users.json",function(t,a){if(t)throw t;a=JSON.parse(a),this.fileData=a})}startUp(){fs.open(this.path,"r+",function(t,a){if(t)throw t;console.log("a new TODO file has been created")}),fs.writeFile(this.path,{Todos:[],author:this.author,name:this.name,startdate:this.startdate}),this.fileData={Todos:[],author:this.author,name:this.name,startdate:this.startdate}}addItem(t,a,e="",s="",o=""){this.fileData.Todos.push({data:t,id:a,name:e,startdate:s,duedate:o})}deleteItem(t){var a=this.fileData.Todos.find(a=>a.id===t);void 0===a&&console.log(`No TODOs with the id ${t} found`),this.fileData.Todos=this.fileData.Todos.splice(this.fileData.Todos.indexOf(a),1)}flush(){fs.writeFile(this.path,this.fileData,function(t){if(t)return console.error(t)})}getFullTodos(){console.log(this.fileData.Todos)}getInfo(){console.log(this.name),console.log(this.author),console.log(this.startdate),console.log(this.path)}getOverdueTodos(){this.fileData.Todos.forEach(t=>{""!==t.duedate&&t.duedate<Date.now()&&console.log(`${t} , is ${(Date.now()-t.duedate)/6e3} minutes late`)})}}
